import{A as n}from"./constants-a400ef56.js";const c=async(t,a)=>{try{const e=localStorage.getItem("authToken")??"",o=await fetch(`${n}/projects`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(a)});if(!o.ok)throw new Error("Failed to create project");const r=await o.json();return r.errors&&r.errors.length>0?{ok:!1,error:r.errors[0].message}:(t({type:"ADD_PROJECT_SUCCESS",payload:r}),{ok:!0})}catch(e){return console.error("Cant add Project",e),{ok:!1,err:e}}},l=async t=>{const a=localStorage.getItem("authToken")??"";try{t({type:"FETCH_ALL_PROJECTS_REQUEST"});const o=await(await fetch(`${n}/projects`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).json();t({type:"FETCH_ALL_PROJECTS_SUCCESS",payload:o})}catch(e){console.log("Unable To fetch Projects",e),t({type:"FETCH_ALL_PROJECTS_FAILURE",payload:"Cannot fetch projects"})}};export{c as a,l as f};
