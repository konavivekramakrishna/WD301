import{A as s}from"./constants-a400ef56.js";const c=async(t,a)=>{try{const e=localStorage.getItem("authToken")??"",o=await fetch(`${s}/users/${a}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!o.ok)throw new Error("Unable to delete member");const r=await o.json();return r.errors&&r.errors.length>0?{ok:!1,error:r.errors[0].message}:(console.log(r),t({type:"DELETE_MEMBER_SUCCESS",payload:a}),{ok:!0})}catch(e){return console.error("Unable to delete member",e),{ok:!1,error:e}}},l=async(t,a)=>{try{const e=localStorage.getItem("authToken")??"",o=await fetch(`${s}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(a)});if(!o.ok)throw new Error("Error while adding member !!!!");const r=await o.json();return r.errors&&r.errors.length>0?{ok:!1,error:r.errors[0].message}:(console.log(r),t({type:"ADD_MEMBER_SUCCESS",payload:r.user}),{ok:!0})}catch(e){return console.error("Error while adding member!!! ",e),{ok:!1,error:e}}},E=async t=>{const a=localStorage.getItem("authToken")??"";try{t({type:"FETCH_ALL_MEMBERS_REQUEST"});const o=await(await fetch(`${s}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).json();console.log(o),t({type:"FETCH_ALL_MEMBERS_SUCCESS",payload:o})}catch(e){console.log("ERROR WHILE GETTING MEMBERS",e),t({type:"FETCH_ALL_MEMBERS_FAILURE",payload:"Error while getting members"})}};export{l as a,c as d,E as f};
