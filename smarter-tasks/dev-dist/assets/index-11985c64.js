import{r as t,d as b,j as e}from"./index-5b7e78c2.js";import{A as f}from"./constants-a400ef56.js";const p=()=>{const[o,u]=t.useState(""),[n,d]=t.useState(""),[r,c]=t.useState(""),[l,m]=t.useState(""),g=b(),x=async s=>{s.preventDefault();try{const a=await fetch(`${f}/organisations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,user_name:r,email:l,password:n})});if(!a.ok)throw new Error("Sign-up failed");console.log("Sign-up successful");const i=await a.json();localStorage.setItem("authToken",i.token),localStorage.setItem("userData",JSON.stringify(i.user)),g("/account")}catch(a){console.error("Sign-up failed:",a)}};return e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Organisation Name:"}),e.jsx("input",{type:"text",name:"organisationName",id:"organisationName",value:o,onChange:s=>u(s.target.value),className:"w-full border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Your Name:"}),e.jsx("input",{type:"text",name:"userName",id:"userName",value:r,onChange:s=>c(s.target.value),className:"w-full border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Email:"}),e.jsx("input",{type:"email",name:"userEmail",id:"userEmail",value:l,onChange:s=>m(s.target.value),className:"w-full border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Password:"}),e.jsx("input",{type:"password",name:"userPassword",id:"userPassword",value:n,onChange:s=>d(s.target.value),className:"w-full border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),e.jsx("button",{type:"submit",className:"w-full bg-gray-700 hover:bg-gray-800 text-white font-semibold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-gray mt-4",children:"Sign up"})]})},N=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"max-w-md w-full px-6 py-8 bg-white rounded-lg shadow-md",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Sign up"}),e.jsx(p,{})]})});export{N as default};
